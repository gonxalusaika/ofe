<div  ng-app="EstacionesMngr" ng-controller="estacionesController">
	<div class="container" >
		<div class="row">
		<h1 class="col-md-4">Recorrido </h1>
		<div class="form-horizontal col-md-8" style="margin-top:20px">
				<div class="form-group">
					<label class="control-label col-sm-2">Nombre:</label>
					<div class="col-sm-7">
						<input class="form-control" ng-model="recorrido.nombre" />
					</div>
				<button class="btn btn-default col-sm-2" ng-click="registrarRecorrido()">Registrar</button>
				</div>
			</div>
			</div>
		<div class="col-md-4" >
			
			<div class="opciones-dinosaurios">
				<div class="loader">Cargando...</div>
				<div class="opcion-lista" ng-repeat="dinosaurio in dinosaurios"  draggable="true">
					
					<p class="pull-right">{{estacion.dinosaurio.nombre}}</p>
						<img ng-src="{{dinosaurio.pathImagen}}" class="pull-right img-dinosaurio" />
					<h3>{{dinosaurio.nombre}} 
					</h3>
					<p><small>{{dinosaurio.descripcion | truncar}} </small></p>
				</div>
			</div>
		</div>
		<div class="col-md-8">

			<div class="mapa-estaciones">
				<button class="btn btn-default estacion{{$index+1}}" ng-repeat="estacion in recorrido.estaciones" 
						popover="{{estacion.dinosaurio.nombre || ' '}}" popover-title="{{estacion.nombre}}" 
						popover-trigger="mouseenter" data-toggle="modal" data-target="#modalDinosaurios" ng-click="cambiarEstacionSeleccionada(estacion)" ondragover="caete(event)">
						{{$index+1}}
						<span ng-if="estacion.dinosaurio != undefined"><img ng-src="{{estacion.dinosaurio.pathImagen}}" class="img-dinosaurio" /> </span>
					</button>
			</div>
		</div>
	</div>


	<div id="modalDinosaurios" class="modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4>{{estacionSeleccionada.nombre}}</h4>
				</div>
				<div class="modal-body">
					<div class="row">
				<div class="col-md-6">
					<div class="opcion-lista" ng-repeat="dinosaurio in dinosaurios" ng-click="asignarDino(dinosaurio, estacionSeleccionada)" ng-class="{seleccionado: dinosaurio.id == estacionSeleccionada.dinosaurio.id}">
						<img ng-src="{{dinosaurio.pathImagen}}" class="pull-right img-dinosaurio" />
						<h4>{{dinosaurio.nombre}}</h4>
						{{dinosaurio.descripcion}}
					</div>
				</div>
				<div class="col-md-6">
					<div ng-repeat="pregunta in preguntas | filter: {dinosaurio_id: estacionSeleccionada.dinosaurio.id}" 
						ng-click="toggleSeleccionPregunta(pregunta)">
						<input type="checkbox" ng-checked="estacionSeleccionada.preguntas.indexOf(pregunta) > -1" />
						<b>{{pregunta.contenido}}</b>
						<ul>
							<li ng-repeat="respuesta in pregunta.respuestas">{{respuesta.contenido}}</li>
						</ul>
					</div>
				</div>
			</div>
			</div>
			<div class="modal-footer">
				<button data-dismiss="modal" class="btn btn-default" >Confirmar</button>
			</div>
			</div>
		</div>
	</div>
</div>